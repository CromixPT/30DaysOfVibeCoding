/* Diary style layout */
.diary-shell { max-width: 680px; margin: 0 auto; padding:0 1rem; }
/* Center header content while keeping vertical rhythm */
.diary-header { display:flex; flex-direction:column; gap:.75rem; margin-bottom:1.25rem; align-items:center; text-align:center; }
/* Center all child items; allow wrapping so + button drops below on very narrow screens */
.diary-header-row { display:flex; justify-content:center; align-items:center; flex-wrap:wrap; gap:1rem; width:100%; }
.add-entry-btn { background:linear-gradient(145deg,#ffb347,#ffa63d); color:#fff; width:3rem; height:3rem; border:none; border-radius:1rem; display:flex; align-items:center; justify-content:center; font-weight:600; box-shadow:0 10px 22px -10px rgba(255,154,38,.6),0 4px 10px -4px rgba(255,154,38,.4); transition:transform .22s ease, box-shadow .22s ease; padding:0; }
.add-entry-btn .add-icon { font-size:1.55rem; line-height:1; }
.add-entry-btn:hover { transform:translateY(-3px); box-shadow:0 14px 28px -12px rgba(255,154,38,.65),0 6px 14px -6px rgba(255,154,38,.45); }
.add-entry-btn:active { transform:translateY(0) scale(.94); }
/* Primary Add button inside modal */
.primary-add-btn { background:linear-gradient(145deg,#ffb347,#ffa63d); color:#fff; border:none; padding:.7rem 1.35rem; border-radius:1rem; font-weight:600; font-size:.9rem; letter-spacing:.25px; box-shadow:0 6px 18px -8px rgba(255,154,38,.55),0 2px 6px -2px rgba(255,154,38,.35); transition:filter .18s ease, transform .18s ease, box-shadow .18s ease; }
.primary-add-btn:disabled { opacity:.45; cursor:not-allowed; box-shadow:none; }
.primary-add-btn:not(:disabled):hover { filter:brightness(1.05); box-shadow:0 10px 22px -10px rgba(255,154,38,.6),0 4px 10px -4px rgba(255,154,38,.45); }
.primary-add-btn:not(:disabled):active { transform:scale(.95); }
.diary-title-group { display:flex; align-items:baseline; gap:.75rem; }
.diary-title { font-size:2rem; font-weight:700; margin:0; }
.diary-month { text-transform:lowercase; font-weight:600; font-size:1rem; color:#6c737f; }
.week-bar { display:flex; align-items:center; justify-content:center; gap:.5rem; flex-wrap:nowrap; }
.calendar-week { display:grid; grid-template-columns:repeat(7,1fr); gap:.4rem; flex:1; }
.week-nav-btn { background:#fff; border:1px solid #e4e8ee; color:#6b737c; width:2.1rem; height:2.1rem; border-radius:.75rem; font-size:1.15rem; display:flex; align-items:center; justify-content:center; line-height:1; cursor:pointer; transition:background .2s ease, color .2s ease, border-color .2s ease, transform .2s ease; box-shadow:0 2px 6px -2px rgba(0,0,0,.08); }
.week-nav-btn:hover { background:#f3f6f8; color:#394047; }
.week-nav-btn:active { transform:scale(.9); }
.cal-day { background:#fff; border:1px solid #e4e8ee; border-radius:.85rem; padding:.35rem .25rem .55rem; text-align:center; position:relative; transition:background .25s ease, color .25s ease, border-color .25s ease; }
.cal-day.today { background:linear-gradient(145deg,#fff6e5,#ffe9c5); border-color:#ffd08a; box-shadow:0 4px 12px -6px rgba(0,0,0,.08); }
.cal-day .dow { display:block; font-size:.55rem; text-transform:uppercase; letter-spacing:.75px; color:#85909a; font-weight:600; margin-bottom:.15rem; }
.cal-day.today .dow { color:#b26a00; }
.cal-day .dom { font-size:.9rem; font-weight:600; color:#555; }
.cal-day.today .dom { color:#cc7300; }
/* Selected day (user current filter) */
.cal-day.selected { border-color:#ffb347; box-shadow:0 0 0 2px rgba(255,180,70,.35) inset,0 2px 6px -2px rgba(255,154,38,.35); }
/* No background change for selected non-today days (only today has background) */
.cal-day.today.selected { box-shadow:0 0 0 2px rgba(255,180,70,.5) inset,0 4px 10px -6px rgba(0,0,0,.25); }
/* Fade animations for dynamic week/month changes */
@keyframes fadeInScale { from { opacity:0; transform:translateY(4px) scale(.975); } to { opacity:1; transform:translateY(0) scale(1); } }
.month-fade { animation:fadeInScale .35s ease; display:inline-block; }
.week-fade { animation:fadeInScale .35s ease; }
/* Panel / cards */
.card-panel { background:#fff; border:1px solid #e4e8ee; border-radius:1.25rem; padding:1.1rem 1.2rem 1.3rem; box-shadow:0 4px 14px -6px rgba(0,0,0,.08); }
.panel-heading { font-size:1.05rem; font-weight:600; margin:0 0 .85rem; }
/* Emoji bar */
.emoji-bar { display:flex; flex-wrap:wrap; justify-content:center; gap:.55rem; margin-bottom:1rem; padding-bottom:.25rem; }
.emoji-bar::-webkit-scrollbar{ height:6px; }
.emoji-bar::-webkit-scrollbar-thumb{ background:#d0d6dc; border-radius:3px; }
.emoji-pill { background:#f3f5f7; border:1px solid #e3e7eb; width:3.1rem; height:3.1rem; border-radius:1rem; display:flex; align-items:center; justify-content:center; font-size:1.55rem; transition:all .18s ease; }
.emoji-pill.active { background:#ffb347; color:#fff; border-color:#ffb347; box-shadow:0 4px 10px -4px rgba(255,161,64,.55); }
.emoji-pill:hover:not(.active){ background:#e9eef2; }
/* Emotion chips */
.emotion-chips { display:flex; flex-wrap:wrap; justify-content:center; gap:.5rem; }
.chip-btn { background:#f4f6f8; border:1px solid #e2e7ec; padding:.4rem .8rem; font-size:.72rem; border-radius:1.25rem; font-weight:500; letter-spacing:.25px; color:#4d5963; transition:all .16s ease; }
.chip-btn.active, .chip-btn:focus { background:#23b5a9; color:#fff; border-color:#23b5a9; box-shadow:0 0 0 .12rem rgba(35,181,169,.25); }
.chip-btn:hover:not(.active){ background:#e8ecef; }
/* Emotions label */
.emotions-title { text-align:left; font-size:.6rem; font-weight:600; letter-spacing:1.1px; text-transform:uppercase; margin:.15rem 0 .55rem; color:#8a95a0; }
/* Support note */
.support-note { margin-top:1rem; background:#fff7e6; border:1px solid #ffe2ad; padding:.75rem .9rem; border-radius:.85rem; font-size:.85rem; line-height:1.25; color:#7a5313; }
/* History */
.history-panel { margin-top:1.75rem; display:flex; flex-direction:column; gap:1rem; align-items:center; text-align:center; }
.entry-card { width:100%; }

/* On wider screens keep cards left-aligned inside centered shell for readability */
@media (min-width: 640px) {
	.history-panel { text-align:left; align-items:stretch; }
}

/* Ensure calendar grid stays centered */
.calendar-week { margin:0 auto; }

/* Keep title & month together centered */
.diary-title-group { justify-content:center; }
.entry-card { display:flex; flex-direction:column; gap:.65rem; }
.entry-head { display:flex; align-items:flex-start; gap:.9rem; position:relative; }
.entry-emoji { font-size:2rem; line-height:1; }
.entry-meta { display:flex; flex-direction:column; gap:.15rem; }
.entry-primary { font-weight:600; font-size:.9rem; color:#2e3135; }
.entry-mood { margin-right:.35rem; }
.entry-time { font-size:.65rem; }
.entry-emotion { font-size:.65rem; }
.entry-tag { position:absolute; top:0; right:0; background:#ffe3f3; color:#c54686; font-size:.55rem; padding:.3rem .5rem .32rem; border-radius:.75rem; font-weight:600; letter-spacing:.4px; }
.entry-message { font-size:.75rem; line-height:1.3; margin:0; color:#4a535c; }
/* Modal */
.modal-overlay { position:fixed; inset:0; background:rgba(19,24,28,.45); backdrop-filter:blur(14px) saturate(140%); display:flex; align-items:flex-start; justify-content:center; padding:4.5rem 1rem 2rem; z-index:2000; animation:fadeIn .25s ease; }
.modal-card { width:100%; max-width:640px; background:#fff; border:1px solid #e4e8ee; border-radius:1.35rem; padding:1.25rem 1.25rem 1.1rem; display:flex; flex-direction:column; gap:1rem; box-shadow:0 18px 48px -18px rgba(0,0,0,.25); }
.modal-head { display:flex; justify-content:space-between; align-items:center; }
.modal-title { font-size:1.2rem; font-weight:600; margin:0; }
.close-btn { background:transparent; border:none; font-size:1.6rem; line-height:1; cursor:pointer; color:#7a8691; }
.close-btn:hover { color:#000; }
.modal-body { display:flex; flex-direction:column; gap:.75rem; }
.modal-footer { display:flex; justify-content:flex-end; gap:.65rem; }
@keyframes fadeIn { from { opacity:0; transform:translateY(10px);} to { opacity:1; transform:translateY(0);} }
.visually-hidden { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; border: 0; }
